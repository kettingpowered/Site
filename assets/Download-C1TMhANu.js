import{_ as v}from"./app-DpCgb4lh.js";import{o as n,c as a,b as s,t as c,j as g,m as k,e as p,p as b,a as y,r as V,F as f,l as w,n as S,k as B}from"./vendor-5UigBav2.js";import"./fas-BeopYNHk.js";import"./fab-oWpDjCGd.js";const x={name:"DownloadButton",props:{kettingVersion:{type:String,required:!0},mcVersion:{type:String,required:!0},version:{type:String,required:!0},compareVersion:{type:String,required:!1},detailsActive:{type:Boolean,required:!0},latest:{type:Boolean,required:!0},duplicate:{type:Boolean,required:!0}},computed:{buttonBorderRadius(){return this.detailsActive?"15px 15px 0 0":"15px"}}},m=e=>(b("data-v-1402f953"),e=e(),y(),e),A={id:"button-container"},C={id:"version"},I={key:0,id:"forge-version"},E={id:"right"},F=["href"],M={key:0,id:"details"},T=m(()=>s("h2",null,"How to install",-1)),q=["href"],L=m(()=>s("p",null,"Step 2: Make a new folder and put the downloaded file in it.",-1)),N=m(()=>s("p",null,"Step 3: Open a terminal of choice and execute the following command:",-1)),P={id:"terminal"},U=m(()=>s("p",null,[p("cd "),s("i",null,"path/to/folder")],-1)),X={id:"launch-arguments"},j=["href"];function z(e,o,t,d,l,i){return n(),a("div",A,[s("div",{id:"button",style:k({borderRadius:i.buttonBorderRadius})},[s("div",C,[s("p",null,c(t.kettingVersion),1),t.duplicate?(n(),a("p",I,"Forge "+c(t.version.split("-")[1]),1)):g("",!0)]),s("div",E,[t.compareVersion!=null?(n(),a("a",{key:0,id:"compare",href:e.global.softwareUrl(t.mcVersion)+"compare/"+t.compareVersion+"..."+t.version,target:"_blank",tabindex:"0"},"What's new?",8,F)):g("",!0),s("p",{id:"get",onClick:o[0]||(o[0]=u=>this.$emit("toggle-details")),tabindex:"0",role:"note","aria-label":"Get it"},"Get it")])],4),t.detailsActive?(n(),a("div",M,[T,s("p",null,[p("Step 1: Download "),s("a",{href:e.global.launcherUrl+"releases/latest",target:"_blank"},"kettinglauncher",8,q),p(".")]),L,N,s("div",null,[s("div",P,[U,s("p",null,"java -jar kettinglauncher-X.X.X.jar -minecraftVersion "+c(t.mcVersion+(t.latest?"":" -kettingVersion "+t.kettingVersion))+c(!t.latest&&t.duplicate?" -forgeVersion "+t.version.split("-")[1]:""),1)]),s("p",X,[p("For a more detailed guide on how to use launch arguments, check out our "),s("a",{href:e.global.launcherUrl+"?tab=readme-ov-file#arguments",target:"_blank"},"readme",8,j),p(".")])])])):g("",!0)])}const O=v(x,[["render",z],["__scopeId","data-v-1402f953"]]),W={name:"Download",head(){return{title:this.unhead.formattedTitle("Downloads"),meta:[{property:"og:title",content:this.unhead.formattedTitle("Downloads")},{property:"og:description",content:"Ketting, Forge with Bukkit & Spigot support"},{name:"description",content:"Ketting, Forge with Bukkit & Spigot support"},{property:"og:image",content:this.global.imageUrl},{property:"og:url",content:this.global.url+"download"},{name:"theme-color",content:"#770708"}],link:[{rel:"canonical",href:this.global.url+"download"},{rel:"prefetch",href:this.global.downloadUrl,as:"fetch"}]}},components:{DownloadButton:O},data(){return{releases:[],duplicates:[],orderedReleases:new Map,selectedRelease:null,loaded:!1,errored:!1,activeDetails:null,showAll:!1,visibleCount:10}},methods:{async fetchReleases(){const e=await fetch(this.global.downloadUrl);if(!e.ok)throw new Error("Failed to fetch releases");const o=await e.text();this.parseXML(o),this.loaded=!0},parseXML(e){new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("metadata")[0].getElementsByTagName("versioning")[0].getElementsByTagName("versions")[0].querySelectorAll("version").forEach(d=>this.releases.push(d.textContent)),this.sortReleases()},sortReleases(){this.releases.sort((e,o)=>{const t=e.split("."),d=o.split(".");for(let l=0;l<Math.min(t.length,d.length);l++){const i=parseInt(t[l]),u=parseInt(d[l]);if(i<u)return-1;if(i>u)return 1}return t.length-d.length}),this.orderReleases()},orderReleases(){const e=new Map;this.releases.forEach(o=>{if(!o.includes("-")||o.split("-").length<3){console.error("Invalid release: "+o);return}const t=o.split("-")[0];e.has(t)||e.set(t,[]),e.get(t).unshift(o)}),this.orderedReleases=e,this.selectedRelease=this.releases[0].split("-")[0],this.getDuplicates()},getDuplicates(){const e=[];this.orderedReleases.forEach(o=>{const t=new Set;o.forEach(d=>{const l=d.split("-")[0],i=d.split("-")[2];t.has(i)?e.push(l+"-"+i):t.add(i)})}),this.duplicates=e},getCompareVersion(e,o){const t=e.indexOf(o);return t===e.length-1?null:"v"+e[t+1]},isLatestVersion(e,o){return e[0]===o},toggleDetails(e){this.activeDetails===e?this.activeDetails=null:this.activeDetails=e},isDetailsActive(e){return this.activeDetails===e},setSelectedRelease(e){this.selectedRelease=e},isDuplicate(e){return this.duplicates.includes(this.selectedRelease+"-"+e.split("-")[2])},isDeprecated(e){return this.global.deprecatedVersions.includes(e)}},async created(){await this.fetchReleases()},computed:{filteredReleases(){return new Map([[this.selectedRelease,this.orderedReleases.get(this.selectedRelease)]])},buttonBgPos(){return`calc(${Array.from(this.orderedReleases.keys()).indexOf(this.selectedRelease)} * (100% / ${this.orderedReleases.size}))`},buttonBgWidth(){return`calc(100% / ${this.orderedReleases.size})`}}},D=e=>(b("data-v-06df4125"),e=e(),y(),e),G={id:"content"},K=D(()=>s("h1",null,"Downloads",-1)),H={key:0,id:"loading"},J={key:1,id:"error"},Q={key:2,id:"display"},Y={class:"version-container"},Z={class:"switch"},$=["onClick","aria-label"],ee={key:0,class:"deprecationNotice"},te=D(()=>s("h2",null,"This version is deprecated",-1)),se={class:"version-buttons"};function oe(e,o,t,d,l,i){const u=V("DownloadButton");return n(),a("div",G,[K,!l.loaded&&!l.errored?(n(),a("div",H,"Loading...")):l.errored?(n(),a("div",J,"Failed to load releases, check the console for more information")):(n(),a("div",Q,[(n(!0),a(f,null,w(i.filteredReleases,([_,h])=>(n(),a("div",Y,[s("div",Z,[(n(!0),a(f,null,w(l.orderedReleases.keys(),r=>(n(),a("div",{class:S(["option",{selected:l.selectedRelease===r}]),key:r,onClick:R=>i.setSelectedRelease(r),"aria-label":"Minecraft-Version "+r,tabindex:"0"},c(r),11,$))),128)),s("div",{class:"background",style:k({left:i.buttonBgPos,width:i.buttonBgWidth})},null,4)]),i.isDeprecated(_)?(n(),a("div",ee,[te,s("p",null,c(_)+" will no longer get any updates. We recommend you to update to a newer version.",1)])):g("",!0),s("div",se,[(n(!0),a(f,null,w(h.slice(0,l.showAll?h.length:l.visibleCount),r=>(n(),B(u,{key:r,kettingVersion:r.split("-")[2],mcVersion:_,version:"v"+r,compareVersion:i.getCompareVersion(h,r),detailsActive:i.isDetailsActive(r),latest:i.isLatestVersion(h,r),duplicate:i.isDuplicate(r),onToggleDetails:R=>i.toggleDetails(r)},null,8,["kettingVersion","mcVersion","version","compareVersion","detailsActive","latest","duplicate","onToggleDetails"]))),128)),h.length>l.visibleCount?(n(),a("button",{key:0,onClick:o[0]||(o[0]=r=>l.showAll=!l.showAll),class:"show-all-button"},c(l.showAll?"Show Less":"Show All"),1)):g("",!0)])]))),256))]))])}const ae=v(W,[["render",oe],["__scopeId","data-v-06df4125"]]);export{ae as default};
//# sourceMappingURL=Download-C1TMhANu.js.map
